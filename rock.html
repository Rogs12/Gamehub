<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Neon Rock-Paper-Scissors</title>
<style>
body { margin:0; font-family:"Orbitron",sans-serif; background:#111; color:#0ff; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; min-height:100vh; }
h1 { text-shadow:0 0 10px #0ff; margin-top:20px; }
button { font-family:"Orbitron",sans-serif; font-size:16px; padding:8px 16px; border-radius:12px; border:2px solid rgba(0,255,255,0.6); background:transparent; color:#0ff; cursor:pointer; box-shadow:0 0 10px rgba(0,255,255,0.4); transition:0.2s; }
button:hover { box-shadow:0 0 20px #0ff; border-color:#0ff; }
#startScreen, #modeSelect, #gameScreen, #roundResult { display:flex; flex-direction:column; align-items:center; justify-content:center; gap:15px; margin-top:30px; }
#scoreBoard { display:flex; gap:40px; font-size:18px; margin-bottom:10px; }
#controls { display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
#roundDisplay, #choicesDisplay, #countdownDisplay { font-size:18px; margin-bottom:10px; }
#gameOverOverlay { display:none; position:absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.95); display:flex; flex-direction:column; justify-content:center; align-items:center; color:#0ff; font-size:24px; text-align:center; z-index:100; text-shadow:0 0 10px #0ff; }
#gameOverOverlay button { margin-top:15px; padding:10px 20px; font-size:18px; width:180px; }
#gameOverOverlay button + button { margin-top:10px; }
.choiceBtn { font-size:18px; padding:10px 18px; }
</style>
</head>
<body>

<h1>Neon Rock-Paper-Scissors</h1>

<!-- Start Screen -->
<div id="startScreen">
  <button id="startBtn">START</button>
</div>

<!-- Mode Selection -->
<div id="modeSelect" style="display:none;">
  <h2>Select Mode</h2>
  <button id="vsBotBtn">Play vs Bot</button>
  <button id="vsFriendBtn">Play vs Friend</button>
</div>

<!-- Game Screen -->
<div id="gameScreen" style="display:none;">
  <div id="scoreBoard">
    <div>Player 1: <span id="scoreP1">0</span></div>
    <div>Player 2: <span id="scoreP2">0</span></div>
  </div>
  <div id="roundDisplay">Round 1 / 5</div>
  <div id="countdownDisplay"></div>
  <div id="controls">
    <button class="choiceBtn" data-choice="rock">✊ Rock</button>
    <button class="choiceBtn" data-choice="paper">✋ Paper</button>
    <button class="choiceBtn" data-choice="scissors">✌️ Scissors</button>
  </div>
  <div id="roundResult" style="display:none;">
    <div id="choicesDisplay"></div>
    <div id="roundWinnerDisplay" style="margin-top:10px;"></div>
    <button id="nextRoundBtn">Next Round</button>
  </div>
</div>

<!-- Game Over Overlay -->
<div id="gameOverOverlay">
  <div id="gameOverText">Game Over!</div>
  <button id="restartBtn">Restart</button>
  <button id="menuBtn">Menu</button>
</div>

<script>
const startScreen = document.getElementById("startScreen");
const startBtn = document.getElementById("startBtn");
const modeSelect = document.getElementById("modeSelect");
const vsBotBtn = document.getElementById("vsBotBtn");
const vsFriendBtn = document.getElementById("vsFriendBtn");

const gameScreen = document.getElementById("gameScreen");
const controls = document.getElementById("controls");
const choiceBtns = document.querySelectorAll(".choiceBtn");
const scoreP1 = document.getElementById("scoreP1");
const scoreP2 = document.getElementById("scoreP2");
const roundDisplay = document.getElementById("roundDisplay");
const countdownDisplay = document.getElementById("countdownDisplay");

const roundResult = document.getElementById("roundResult");
const choicesDisplay = document.getElementById("choicesDisplay");
const roundWinnerDisplay = document.getElementById("roundWinnerDisplay");
const nextRoundBtn = document.getElementById("nextRoundBtn");

const gameOverOverlay = document.getElementById("gameOverOverlay");
const gameOverText = document.getElementById("gameOverText");
const restartBtn = document.getElementById("restartBtn");
const menuBtn = document.getElementById("menuBtn");

let rounds = 5;
let currentRound = 1;
let mode = 'bot';
let playerTurn = 1;
let choices = {1:'',2:''};
let score = {1:0,2:0};

// Start -> Mode Selection
startBtn.addEventListener("click", ()=>{
  startScreen.style.display="none";
  modeSelect.style.display="flex";
});

// Mode Buttons
vsBotBtn.addEventListener("click", ()=>{
  mode='bot';
  modeSelect.style.display="none";
  startGame();
});
vsFriendBtn.addEventListener("click", ()=>{
  mode='friend';
  modeSelect.style.display="none";
  startGame();
});

function startGame(){
  currentRound=1;
  playerTurn=1;
  score={1:0,2:0};
  choices={1:'',2:''};
  scoreP1.textContent="0";
  scoreP2.textContent="0";
  roundDisplay.textContent=`Round ${currentRound} / ${rounds}`;
  countdownDisplay.textContent="";
  gameScreen.style.display="flex";
  roundResult.style.display="none";
  controls.style.display="flex";
}

// Handle Choices
choiceBtns.forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const choice = btn.dataset.choice;
    if(mode==='bot'){
      choices[1]=choice;
      choices[2]=['rock','paper','scissors'][Math.floor(Math.random()*3)];
      startCountdown();
    } else {
      choices[playerTurn] = choice;
      if(playerTurn===1){
        playerTurn=2;
        countdownDisplay.textContent="Player 2, make your choice!";
      } else {
        startCountdown();
      }
    }
  });
});

function startCountdown(){
  controls.style.display="none";
  let count=3;
  countdownDisplay.textContent = count;
  const countdownInterval = setInterval(()=>{
    count--;
    if(count>0) countdownDisplay.textContent=count;
    else{
      clearInterval(countdownInterval);
      countdownDisplay.textContent="";
      showRoundResult();
    }
  },1000);
}

function showRoundResult(){
  let p1 = choices[1];
  let p2 = choices[2];
  choicesDisplay.innerHTML=`Player 1 chose: ${p1}<br>Player 2 chose: ${p2}`;
  let winner = 0;
  if(p1===p2) winner=0;
  else if(
    (p1==='rock' && p2==='scissors') ||
    (p1==='paper' && p2==='rock') ||
    (p1==='scissors' && p2==='paper')
  ) winner=1;
  else winner=2;
  if(winner===1) score[1]++;
  else if(winner===2) score[2]++;
  scoreP1.textContent=score[1];
  scoreP2.textContent=score[2];
  roundWinnerDisplay.textContent=winner===0 ? "Draw!" : `Winner: Player ${winner}`;
  roundResult.style.display="flex";
}

nextRoundBtn.addEventListener("click", ()=>{
  currentRound++;
  if(currentRound>rounds){
    endGame();
  } else {
    roundResult.style.display="none";
    controls.style.display="flex";
    playerTurn=1;
    choices={1:'',2:''};
    roundDisplay.textContent=`Round ${currentRound} / ${rounds}`;
  }
});

function endGame(){
  gameScreen.style.display="none";
  gameOverOverlay.style.display="flex";
  let winnerText="Draw!";
  if(score[1]>score[2]) winnerText="Player 1 Wins!";
  else if(score[2]>score[1]) winnerText="Player 2 Wins!";
  gameOverText.innerHTML=`Game Over!<br>${winnerText}<br>Score: ${score[1]} - ${score[2]}`;
}

// Game Over Buttons
restartBtn.addEventListener("click", ()=>{
  gameOverOverlay.style.display="none";
  startGame(); // restart with same mode
});
menuBtn.addEventListener("click", ()=>{
  gameOverOverlay.style.display="none";
  startScreen.style.display="block"; // back to start
  modeSelect.style.display="none";
});
</script>

</body>
</html>
